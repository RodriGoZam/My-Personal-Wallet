{"remainingRequest":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/src/components/BotonTransferencia.vue?vue&type=style&index=0&id=2deed85e&scoped=true&lang=css&","dependencies":[{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/src/components/BotonTransferencia.vue","mtime":1557445651871},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/abrahan/Desktop/JS/backup/My-Personal-Wallet/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.calendario {\n    width: 30%;\n    margin-left: 35%;\n}\n.seleccion {\n    width: 80%;\n    margin-left: 10%;\n}\n.input {\n    width: 30%;\n    margin-left: 35%;\n}\n",{"version":3,"sources":["BotonTransferencia.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BotonTransferencia.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-bottom-sheet v-model=\"sheet\">\n        <template v-slot:activator>\n            <v-btn\n            color=\"#64C195\"\n            dark\n            round\n            id=\"botonTransferencia\"\n            >\n                Transferencia\n            </v-btn>\n        </template>\n        <v-list>\n            <p class=\"text-md-center\">Nueva Transferencia</p>\n            <v-layout column>\n                <v-combobox\n                :items=\"otrasCuentas\"\n                label=\"Seleccione la cuenta destinada\"\n                chips\n                autofocus\n                type=\"button\"\n                class=\"seleccion\"\n                v-model=\"cuentaDestino\"\n                >\n                </v-combobox>\n                <v-text-field\n                class=\"input\"\n                label=\"Monto\"\n                type=\"number\"\n                v-model=\"monto\"\n                ></v-text-field>\n                <v-menu\n                ref=\"menu\"\n                :close-on-content-click=\"false\"\n                :nudge-right=\"40\"\n                :return-value.sync=\"fecha\"\n                lazy\n                transition=\"scale-transition\"\n                offset-y\n                full-width\n                min-width=\"290px\"\n                >\n                    <template v-slot:activator=\"{ on }\">\n                        <v-text-field\n                        v-model=\"fecha\"\n                        label=\"Picker in menu\"\n                        prepend-icon=\"event\"\n                        readonly\n                        v-on=\"on\"\n                        class=\"calendario\"\n                        ></v-text-field>\n                    </template>\n                        <v-date-picker v-model=\"fecha\" no-title scrollable>\n                            <v-spacer></v-spacer>\n                            <v-btn flat color=\"primary\" @click=\"menu = false\">Cancel</v-btn>\n                            <v-btn flat color=\"primary\" @click=\"$refs.menu.save(fecha)\">OK</v-btn>\n                        </v-date-picker>\n                </v-menu>\n                <v-btn\n                color=\"#64C195\"\n                dark\n                round\n                class=\"input\"\n                id=\"AgregarTransferencia\"\n                @click=\"transferir\"\n                >\n                    Enviar\n                </v-btn>\n             </v-layout>\n        </v-list>\n    </v-bottom-sheet>\n</template>\n<script>\nexport default {\n    props: {\n        cuenta: Object\n    },\n    data () {\n        return {\n            sheet: false,\n            fecha: new Date().toISOString().substr(0, 10),\n            monto: 0,\n            cuentaDestino: ''\n        }\n    },\n    computed: {\n        otrasCuentas () {\n            return this.$store.state.cuentas.filter(cuenta=>cuenta.nombre!=this.cuenta.nombre).map(function(i) {\n                    return i.nombre;\n                    })\n        }\n    },\n    methods: {\n        transferir () {\n            try {\n                if (this.cuentaDestino === '') {\n                    throw  new Error (\"Seleccione la cuenta objetivo\")\n                }else if (this.monto <= 0) {\n                    throw  new Error (\"Ingrese un monto mayor a 0\")\n                }\n                this.cuenta.fondos = Number(this.cuenta.fondos) - Number(this.monto)\n                this.$store.dispatch('agregarEgreso',\n                     {cuenta: this.cuenta.nombre, fecha: this.fecha, monto: this.monto, categoria: 'Transferencia'})\n                this.$store.dispatch('actualizarSaldo', this.cuenta)\n                this.$store.dispatch('agregarIngreso',\n                     {cuenta: this.cuentaDestino, fecha: this.fecha, monto: this.monto, categoria: 'Transferencia'})\n                     let cuentaObjActualizada = this.$store.state.cuentas.find(cuenta=>cuenta.nombre === this.cuentaDestino)\n                     cuentaObjActualizada.fondos = Number(cuentaObjActualizada.fondos) + Number(this.monto)\n                this.$store.dispatch('actualizarSaldo', cuentaObjActualizada)\n                this.generarAlerta({mensaje: 'Agregado exitosamente', tipo: 'success', visible: true, color: '#64C195'})\n            } catch (error) {\n                this.generarAlerta({mensaje: error, tipo: 'error', visible: true, color: 'red'})\n            } finally {\n                this.sheet=false,\n                this.fecha= new Date().toISOString().substr(0, 10),\n                this.monto= 0,\n                this.cuentaDestino= ''\n            }\n        },\n        generarAlerta (alerta) {\n            this.$emit('setAlerta', alerta)\n        }\n    }\n}\n</script>\n<style scoped>\n.calendario {\n    width: 30%;\n    margin-left: 35%;\n}\n.seleccion {\n    width: 80%;\n    margin-left: 10%;\n}\n.input {\n    width: 30%;\n    margin-left: 35%;\n}\n</style>\n"]}]}